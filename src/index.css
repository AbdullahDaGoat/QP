/* 1) Load Tailwind */
@import "tailwindcss";

/* 2) Dark mode always active */
@custom-variant dark (&:where(.dark, .dark *));

/* 3) Theme tokens + animations (Tailwind v4) */
@theme {
  --font-sans: -apple-system, BlinkMacSystemFont, "SF Pro Display", "Segoe UI", Roboto, Helvetica, Arial, sans-serif;

  /* Queen's palette optimized for dark theme */
  --color-q-navy-950: #060b18;
  --color-q-navy-900: #0b1226;
  --color-q-navy-800: #0f1a36;
  --color-q-navy-700: #142242;
  --color-q-navy-600: #1a2b4e;

  /* Glass effects for dark theme */
  --color-glass-light: rgba(30, 41, 59, 0.45);
  --color-glass-medium: rgba(15, 23, 42, 0.65);
  --color-glass-heavy: rgba(15, 23, 42, 0.85);
  --color-glass-border: rgba(245, 158, 11, 0.15);

  /* Amber accents */
  --color-amber-glow: rgba(245, 158, 11, 0.35);
  --color-amber-hover: rgba(245, 158, 11, 0.45);

  --color-border: rgb(51, 65, 85);

  /* Animations */
  --animate-float: float 6s ease-in-out infinite;
  --animate-glow: glow 2s ease-in-out infinite alternate;
  --animate-slide-up: slideUp 0.5s ease-out;
  --animate-fade-in: fadeIn 0.5s ease-out;
  --animate-shimmer: shimmer 3s infinite;
  --animate-pulse-glow: pulseGlow 2s ease-in-out infinite;

  @keyframes float {
    0%, 100% { transform: translateY(0) }
    50% { transform: translateY(-20px) }
  }
  @keyframes glow {
    0% { box-shadow: 0 0 5px var(--color-amber-glow) }
    100% { box-shadow: 0 0 20px var(--color-amber-glow) }
  }
  @keyframes slideUp {
    0% { transform: translateY(100px); opacity: 0 }
    100% { transform: translateY(0); opacity: 1 }
  }
  @keyframes fadeIn {
    0% { opacity: 0 }
    100% { opacity: 1 }
  }
  @keyframes shimmer {
    0% { background-position: -200% 0 }
    100% { background-position: 200% 0 }
  }
  @keyframes pulseGlow {
    0%, 100% { opacity: 1 }
    50% { opacity: 0.7 }
  }
}

/* 4) Base layer - Dark theme only */
@layer base {
  * {
    @apply border-border;
  }

  html {
    @apply scroll-smooth;
  }

  body {
    @apply text-gray-100;
    background: linear-gradient(135deg,
      var(--color-q-navy-950) 0%,
      var(--color-q-navy-900) 25%,
      var(--color-q-navy-800) 50%,
      var(--color-q-navy-900) 75%,
      var(--color-q-navy-950) 100%);
    background-attachment: fixed;
    min-height: 100vh;
  }

  /* Add subtle noise texture */
  body::before {
    content: '';
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    opacity: 0.03;
    z-index: -1;
    background-image:
      repeating-linear-gradient(45deg, transparent, transparent 35px, rgba(255,255,255,.03) 35px, rgba(255,255,255,.03) 70px);
    pointer-events: none;
  }

  ::selection {
    @apply bg-amber-400/30;
  }

  /* Custom scrollbar for dark theme */
  ::-webkit-scrollbar {
    width: 12px;
  }
  ::-webkit-scrollbar-track {
    @apply bg-q-navy-900;
  }
  ::-webkit-scrollbar-thumb {
    @apply bg-gray-700 rounded-full;
    border: 2px solid var(--color-q-navy-900);
  }
  ::-webkit-scrollbar-thumb:hover {
    @apply bg-amber-600;
  }

  /* Focus styles */
  *:focus-visible {
    outline: 2px solid var(--color-amber-glow);
    outline-offset: 2px;
  }

  /* Floating animation for hero elements */
  .animate-float-slow {
    animation: float 8s ease-in-out infinite;
  }

  /* Pulse for interactive elements */
  .animate-pulse-amber {
    animation: pulseGlow 2s ease-in-out infinite;
    filter: drop-shadow(0 0 10px var(--color-amber-glow));
  }

  /* Entrance animations */
  .animate-slide-up {
    animation: slideUp 0.5s ease-out forwards;
  }

  .animate-fade-in {
    animation: fadeIn 0.5s ease-out forwards;
  }
}

/* 5) Components & Utilities */

/* Make custom design tokens usable via @apply by defining them as true utilities */
@layer utilities {
  /* === Glass utilities (now safe to @apply) === */
  @utility glass {
    @apply backdrop-blur-xl rounded-2xl;
    background: var(--color-glass-medium);
    border: 1px solid var(--color-glass-border);
    box-shadow:
      0 4px 6px -1px rgba(0, 0, 0, 0.3),
      0 2px 4px -1px rgba(0, 0, 0, 0.2);
  }

  @utility glass-heavy {
    @apply backdrop-blur-2xl rounded-3xl;
    background: var(--color-glass-heavy);
    border: 1px solid var(--color-glass-border);
    box-shadow:
      0 10px 15px -3px rgba(0, 0, 0, 0.4),
      0 4px 6px -2px rgba(0, 0, 0, 0.3),
      inset 0 1px 0 0 rgba(255, 255, 255, 0.05);
  }

  @utility glass-light {
    @apply backdrop-blur-md rounded-xl;
    background: var(--color-glass-light);
    border: 1px solid rgba(255, 255, 255, 0.08);
  }

  @utility glass-interactive {
    @apply backdrop-blur-xl rounded-2xl transition-all duration-300;
    background: var(--color-glass-medium);
    border: 1px solid var(--color-glass-border);
    box-shadow:
      0 4px 6px -1px rgba(0, 0, 0, 0.3),
      0 2px 4px -1px rgba(0, 0, 0, 0.2);
  }

  /* Hover state stays as a normal rule targeting the class */
  .glass-interactive:hover {
    background: rgba(15, 23, 42, 0.75);
    border-color: var(--color-amber-hover);
    box-shadow:
      0 10px 15px -3px rgba(0, 0, 0, 0.4),
      0 0 30px -5px var(--color-amber-glow);
  }

  /* === Text gradient utilities (now safe to @apply) === */
  @utility text-gradient {
    @apply bg-clip-text text-transparent;
    background-image: linear-gradient(135deg, #fbbf24, #f59e0b, #ea580c);
    filter: drop-shadow(0 2px 4px rgba(245, 158, 11, 0.3));
  }

  @utility text-gradient-animated {
    @apply text-gradient;
    background-size: 200% 200%;
    animation: shimmer 3s ease infinite;
  }

  /* Shimmer effect for loading states */
  .shimmer {
    background: linear-gradient(
      90deg,
      transparent,
      rgba(245, 158, 11, 0.15),
      transparent
    );
    background-size: 200% 100%;
    animation: shimmer 3s infinite;
  }

  /* Glow button */
  .btn-glow {
    @apply relative overflow-hidden;
    background: linear-gradient(135deg, #f59e0b, #ea580c);
    box-shadow:
      0 4px 15px 0 rgba(245, 158, 11, 0.4),
      inset 0 1px 0 0 rgba(255, 255, 255, 0.2);
  }
  .btn-glow:hover {
    box-shadow:
      0 6px 20px 0 rgba(245, 158, 11, 0.6),
      inset 0 1px 0 0 rgba(255, 255, 255, 0.3);
  }

  /* Card 3D flip container */
  .flip-card { perspective: 1200px; }
  .flip-card-inner {
    transform-style: preserve-3d;
    transition: transform 0.7s cubic-bezier(0.4, 0, 0.2, 1);
  }
  .flip-card-front,
  .flip-card-back { backface-visibility: hidden; }
  .flip-card-back { transform: rotateY(180deg); }

  /* Swiper customization for dark theme */
  .swiper-pagination-bullet { @apply bg-gray-600; }
  .swiper-pagination-bullet-active { @apply bg-amber-400; }
  .swiper-button-next,
  .swiper-button-prev { @apply text-amber-400; }

  /* 6) Extra utilities */

  /* Backdrop filters */
  .backdrop-blur-xs { backdrop-filter: blur(2px); }
  .backdrop-blur-3xl { backdrop-filter: blur(64px); }

  /* Custom shadows */
  .shadow-amber { box-shadow: 0 10px 40px -10px var(--color-amber-glow); }
  .shadow-glow {
    box-shadow:
      0 0 20px 5px var(--color-amber-glow),
      0 0 40px 10px rgba(245, 158, 11, 0.15);
  }

  /* Text shadows */
  .text-shadow { text-shadow: 0 2px 4px rgba(0, 0, 0, 0.5); }
  .text-shadow-lg { text-shadow: 0 4px 8px rgba(0, 0, 0, 0.7); }

  /* Hover animations */
  .hover-lift { @apply transition-transform duration-300; }
  .hover-lift:hover { transform: translateY(-4px); }

  .hover-glow { @apply transition-all duration-300; }
  .hover-glow:hover { filter: drop-shadow(0 0 20px var(--color-amber-glow)); }

  /* Border gradients */
  .border-gradient {
    position: relative;
    background: var(--color-glass-heavy);
    border-radius: 1.5rem;
  }
  .border-gradient::before {
    content: '';
    position: absolute;
    inset: -1px;
    padding: 1px;
    border-radius: inherit;
    background: linear-gradient(135deg, #f59e0b, #ea580c);
    -webkit-mask:
      linear-gradient(#fff 0 0) content-box,
      linear-gradient(#fff 0 0);
    mask:
      linear-gradient(#fff 0 0) content-box,
      linear-gradient(#fff 0 0);
    -webkit-mask-composite: xor;
    mask-composite: exclude;
    opacity: 0.5;
  }
}

/* Small helper for ultra-small screens */
.xs\:inline { display: none; }
@media (min-width: 380px) {
  .xs\:inline { display: inline; }
}
